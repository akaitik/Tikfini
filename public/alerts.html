<!DOCTYPE html>
<html>
<head>
  <title>Alertas Test</title>
  <style>
    body { margin: 0; background: red; color: white; font-family: Arial; }
    #status { position: fixed; top: 10px; right: 10px; background: black; padding: 10px; }
    #log { position: fixed; bottom: 10px; left: 10px; background: black; color: lime; padding: 10px; max-height: 200px; overflow: auto; }
  </style>
</head>
<body>
  <div id="status">üî¥ Desconectado</div>
  <div id="log">Iniciando...</div>
  
  <script>
    let ws;
    function addLog(msg) {
      document.getElementById('log').innerHTML += `<div>${new Date().toLocaleTimeString()}: ${msg}</div>`;
      document.getElementById('log').scrollTop = document.getElementById('log').scrollHeight;
    }
    
    addLog('Conectando ws://192.168.18.27:8081');
    ws = new WebSocket('ws://192.168.18.27:8081');
    
    ws.onopen = () => {
      document.getElementById('status').textContent = 'üü¢ Conectado';
      addLog('‚úÖ WebSocket OK');
    };
    
    ws.onmessage = (e) => {
      const data = JSON.parse(e.data);
      addLog(`üéÅ ${data.user} ‚Üí ${data.gift || data.type}`);
    };
    
    ws.onerror = () => addLog('‚ùå WebSocket ERROR');
  </script>
</body>
</html>
